# 表單更新數據庫既有資料
- get：提供表單
- put
	- 獲得 put 請求，更新數據庫
	- 完成後重新導向學生個人頁面 （更新後的資料）

```js
app.get('/students/edit/:id', async (req, res) =>
	let { id } = req.params;
	try {
		let data = await Student.findOne({ id });
		if ( data !== null ) {
			res.render('edit.ejs', { data });
		} else {
			res.send('該 ID 尚未被登錄');
		}
	}
);
```
## PUT
>[[HTTP request]]：PUT 對於 html form 是不支援的，需要安裝 npm 模組
>[method-override](https://www.npmjs.com/package/method-override)
```js
// 使用 put，但 form 不支援，需要額外裝 npm 模組
app.put('/students/edit/:id', (req, res) => {

})


```

```ejs
// POST
<form action="/students/edit/<%= data.id %>" method="POST">
	<label for="id">ID:</label>
	<input type="number" id="id" name="id" value="<%= data.id %>">
	<label for="name">name:</label>
	<input type="text" id="name" name="name" value="<%= data.name %>">
	<label for="age">age:</label>
	<input type="number" id="age" name="age" value="<%= data.age %>">
	<label for="merit">merit:</label>
	<input type="number" id="merit" name="merit" value="<%= data.merit %>">
	<label for="other">other:</label>
	<input type="number" id="other" name="other" value="<%= data.other %>">
	
	<input type="submit">
</form>
```
#js #npm #node #expressJs #mongoose #database #form #ejs #backEnd 